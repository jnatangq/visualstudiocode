<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAFE ELEGIDO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>


<body>
     
      <nav class="navbar navbar-nav-md bg-dark navbar-dark">
        <span class="navbar-brand mb-0 h1">"CAFÉ ELEGIDO, De las montañas de Colombia para el mundo."</span>
        <button class="btn btn-outline-success" type="submit">CREAR PRODUCTO </button>
        <button class="btn btn-outline-success" type="submit">EDITAR PRODUCTO </button>
        <button class="btn btn-outline-success" type="submit">BORRAR PRODUCTO </button>
        <ul class="navbar -nav mx-auto mb-2 mb-lg-0"
        <li class="nav-item">
        <a 
        th:href="@( / pagina1)"
        class="nav-linkactive"
        aria current="page"
          href="#">Productos</a> 
        </li>
        </ul>
        </div>
      </nav>
     
      <div class="row">
        <div class="card text-center">
          <div class="card-body"estudiante>
            <h1 class="card-title">Crear, Actualizar o Borrar producto </h1>

            <!--Inicio del formulario-->
            <form th:action"@(/pagina1)=th:objet="$producto" method="POST">
              <div class="mb-3">
                <div class="form-group">
                  <label>PRODUCTO</label>
                  <input
                    type="text"
                    name="producto"
                    th:field="*{nombre_producto}"
                    class="form-control"
                    placeholder="Ingrese el nombre del producto"
                  />
                </div>
                <div class="form-group">
                  <label>PRECIO</label>
                  <input
                    type="double"
                    name="precio"
                    th:field="*{precio_producto}"
                    class="form-control"
                    placeholder="Ingrese el precio del producto"
                  />
                </div>
                
                
    <div class="container mt-4">
        <div class="row">
          <h1>Listado de productos</h1>
        </div>
  
        <div class="row">
          <div class="col-lg-3">
            <a th:href="@{/productos/new}" 
            class="btn btn-primary btn-sm mb-3">Agregar producto</a>
          </div>
        </div>
      </div>
      <!--Fin del contenedor general-->
  
      <!--Inicio de la tabla-->
      <div class="container container-fluid">
        <table class="table table-striped table-bordered">
          <thead class="table-dark">
            <tr>
              <th>Nombre del producto</th>
              <th>precio del producto</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td></td>
              <td></td>
              <td><a th:href="@{/productos/new}" 
                class="btn btn-primary">Actualizar</a>
                <a th:href="@{/productos/new}" class="btn btn-danger">Borrar</a>
            </td>
            </tr>
          </tbody>

          
          <td th:text="${producto.nombre_producto}"></td>
          <td th:text="${producto.precio_producto}"></td>
          
          <td>
            <th:block th:each="tipo,iter: ${productos.tipos}">
              <label th:text="${producto.nombre_producto}" />
              <th:block th:if="${!iter.last}">, </th:block>
            </th:block>
          </td>
          <td>
            <a
              th:href="@{/producto/edit/{id}(id=${producto.id})}"
              class="btn btn-primary"
              >Actualizar</a
            >
            <a
              th:href="@{/producto/{id}(id=${producto.id})}"
              class="btn btn-danger"
              >Borrar</a
            >
          </td>
        </table>
      </div>
      
      <div class="form-group">
        <label>Tipos</label>
        <select
          th:field="${producto.Tipos}"
          name="Tipos"
          class="form-control"
          multiple="true"
        >
          <option
            th:each="course :${tiposList}"
            th:value="${tipo.id}"
            th:text="${tipo.producto}"
          />
        </select>
      </div>

      <div class="box-footer mt-4">
        <button type="submit" class="btn btn-warning">Enviar</button>
      </div>
    </div>
  </form>

      <!--Fin de la tabla-->